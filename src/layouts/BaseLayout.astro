---
import Menu from '@components/Menu.astro';
import Nav from '@components/Nav.astro';
import VendorLoader from '@components/VendorLoader.jsx';
import { ensureAuthenticated } from '@lib/auth/server-guard';
import favicon from '@vendor/favicon.ico?url';
interface Props {
  title: string;
  description: string;
}
const {
  title = 'Belekok Astro',
  description = 'Frontend SSR project powered by Astro and React.',
} = Astro.props;

ensureAuthenticated(Astro);
---

<!doctype html>
<html
  lang="en"
  class="layout-navbar-fixed layout-menu-fixed layout-compact"
  dir="ltr"
  data-skin="default"
  data-bs-theme="light"
  data-assets-path="/assets/"
  data-template="vertical-menu-template-starter"
>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
    />
    <meta name="robots" content="noindex, nofollow" />
    <title>
      {title}
    </title>

    <meta name="description" content={description} />

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href={favicon} />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="stylesheet" href="/assets/css/core.css" />
  </head>
  <body>
    <div class="layout-wrapper layout-content-navbar">
      <div class="layout-container">
        <Menu />
        <VendorLoader client:load />

        <div class="menu-mobile-toggler d-xl-none rounded-1">
          <a
            href="javascript:void(0);"
            class="layout-menu-toggle menu-link text-large text-bg-secondary p-2 rounded-1"
          >
            <i class="ri ri-menu-line icon-base"></i>
            <i class="ri ri-arrow-right-s-line icon-base"></i>
          </a>
        </div>

        <div class="layout-page">
          <Nav />
          <slot />
          <footer class="content-footer footer bg-footer-theme">
            <div class="container-xxl">
              <div
                class="footer-container d-flex align-items-center justify-content-between py-4 flex-md-row flex-column"
              >
                <div class="mb-2 mb-md-0">
                  &#169; 2025, made with ❤️ by
                  <a href="javascript::void(0)" class="footer-link fw-medium"> Wisnu Baldas </a>
                </div>
                <div class="d-none d-lg-inline-block">
                  <a
                    href="https://themeforest.net/user/pixinvent/portfolio"
                    target="_blank"
                    class="footer-link me-4"
                  >
                    More Themes
                  </a>
                  <a
                    href="https://demos.pixinvent.com/materialize-html-admin-template/documentation/"
                    target="_blank"
                    class="footer-link me-4"
                  >
                    Documentation
                  </a>
                </div>
              </div>
            </div>
          </footer>
          <div class="content-backdrop fade"></div>
        </div>
      </div>
      <!-- Overlay -->
      <div class="layout-overlay layout-menu-toggle"></div>

      <!-- Drag Target Area To SlideIn Menu On Small Screens -->
      <div class="drag-target"></div>
    </div>
  </body>
</html>
